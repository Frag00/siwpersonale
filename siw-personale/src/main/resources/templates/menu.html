<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Menu della Pizzeria</title>
        <link rel="stylesheet" href="/css/stylesMenu.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	</head>
	<body> 
        <nav class="navbar">
            <div class="navbar-container">
                <div class="navbar-brand">
                    <a href="/" class="logo">SliceVerse</a>
                </div>
                <div class="navbar-nav">
                    <div th:if="${user}" class="user-info">
                        <p class="user-name">Ciao, <span th:text="${user.nome + ' ' + user.cognome}"></span>!</p>
                        <div class="user-actions">
                            <a href="/logout" class="btn btn-logout">Logout</a>
                        </div>
                    </div>
                    <div th:unless="${user}" class="auth-buttons">
                        <a href="/login" class="btn btn-login">Accedi</a>
                        <a href="/register" class="btn btn-register">Registrati</a>
                    </div>
                </div>
            </div>
        </nav>

        <div class="menu-main-content">
            <div class="menu-header">
                <h1>Menu della pizzeria <span th:text="${pizzeria.nome}"></span></h1>
            </div>
            
            <div th:if="${!pizzeria.menu.isEmpty()}" class="menu-sections-wrapper">
                <div th:if="${!pizze.isEmpty()}" class="menu-category-card">
                    <h2>Pizze</h2>
                    <ul class="product-grid"> <li th:each="p : ${pizze}" class="product-item"> <div class="product-info">
                                <div class="product-name-price">
                                    <span class="product-name" th:text="${p.nome}">Nome Pizza</span>
                                    <span class="product-price" th:text="${p.prezzo + '€'}">Prezzo</span>
                                </div>
                                <p class="product-description" th:text="${p.descrizione}">Descrizione pizza.</p>
                            </div>
                            <div th:if="${p.immagine}" class="product-image-container">
                                <img th:src="${p.immagine.nome}" 
                                     alt="Immagine pizza" 
                                     class="product-image" />
                            </div> 
                        </li>				
                    </ul>
                </div>	
                
                <div th:if="${!fritti.isEmpty()}" class="menu-category-card">
                    <h2>Fritti</h2>
                    <ul class="product-grid"> <li th:each="f : ${fritti}" class="product-item"> <div class="product-info">
                                <div class="product-name-price">
                                    <span class="product-name" th:text="${f.nome}">Nome Fritto</span>
                                    <span class="product-price" th:text="${f.prezzo + '€'}">Prezzo</span>
                                </div>
                                <p class="product-description" th:text="${f.descrizione}">Descrizione fritto.</p>
                            </div>
                            <div th:if="${f.immagine}" class="product-image-container">
                                <img th:src="${f.immagine.nome}" 
                                     alt="Immagine fritto" 
                                     class="product-image" />
                            </div> 
                        </li>				
                    </ul>
                </div>	
                            
                <div th:if="${!bevande.isEmpty()}" class="menu-category-card">
                    <h2>Bevande</h2>
                    <ul class="product-grid"> <li th:each="b : ${bevande}" class="product-item"> <div class="product-info">
                                <div class="product-name-price">
                                    <span class="product-name" th:text="${b.nome}">Nome Bevanda</span>
                                    <span class="product-price" th:text="${b.prezzo + '€'}">Prezzo</span>
                                </div>
                                <p class="product-description" th:text="${b.descrizione}">Descrizione bevanda.</p>
                            </div>
                            <div th:if="${b.immagine}" class="product-image-container">
                                <img th:src="${b.immagine.nome}" 
                                     alt="Immagine bevanda" 
                                     class="product-image" />
                            </div> 
                        </li>				
                    </ul>
                </div>	
            </div>	
            
            <div th:unless="${!pizzeria.menu.isEmpty()}" class="empty-menu-message">Il menu è vuoto</div>

            <div class="navigation-buttons-area">
                <div class="navigation-buttons-container">
                    <a th:href="@{'/pizzerie/' + ${pizzeria.id}}" class="btn-navigation">Torna alla pizzeria</a>
                    <a href="/pizzerie" class="btn-navigation">Torna alla lista di tutte le pizzerie</a>
                    <a href="/" class="btn-navigation">Torna alla home</a>
                </div>
            </div>
		</div>
		
        <footer class="footer">
            <p>&copy; SliceVerse - Esplora, ordina, assapora</p>
        </footer>
	</body>
</html>